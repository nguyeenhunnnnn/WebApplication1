@model WebApplication1.Models.ViewModels.BaiDangViewModel

@using WebApplication1.Models

@{
    ViewData["Title"] = "Bai Dang ";
}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="~/css/styleDangTin.css" />
    <link rel="stylesheet" href="~/css/StyleSidebar.css" />
    <link rel="stylesheet" href="~/css/styleQlbd.css" />
    <link href="~/css/styledanhgia.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/css/styleCTBD.css" />
    <title>HUNO - Chi Tiet Bai Dang</title>
   
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="menu">
                <div class="menu-item">
                    <a asp-controller="HoSo" asp-action="CreateHoSo"
                       class="menu-item">
                        <i class="fas fa-file-alt"></i>
                        <span>Tạo Hồ Sơ</span>
                    </a>
                </div>
                <div class="menu-item">
                    <a asp-controller="HoSo" asp-action="Index"
                       class="menu-item">
                        <i class="fas fa-file-alt"></i>
                        <span>Quản Lý Hồ Sơ</span>
                    </a>
                </div>
                <div class="menu-item active">
                    <a asp-controller="baiDang" asp-action="CreateGS" class="menu-item">
                        <i class="fas fa-file-alt"></i>
                        <span>Đăng tin</span>
                    </a>
                </div>
                <div class="menu-item">
                    <a asp-controller="baiDang" asp-action="IndexGS" class="menu-item">
                        <i class="fas fa-tasks"></i>
                        <span>Quản Lí Tin Đăng</span>
                    </a>
                </div>
                <div class="menu-item">
                    <a asp-controller="HoSo" asp-action="QuanLyUngTuyen" class="menu-item">
                        <i class="fas fa-users"></i>
                        <span>Quản Lí Ứng Tuyển</span>
                    </a>
                </div>
                <div class="menu-item">
                    <a class="menu-item">
                        <i class="fas fa-shopping-cart"></i>
                        <span>Đơn Hàng</span>
                    </a>
                </div>
            </div>

            <div class="footer-sidebar">
                <div>Version V2.74.39</div>
                <div>© 2025 HUNO. All Rights Reserved.</div>
            </div>
        </div>


    </div>
    <!-- Main Content -->

    <div class="job-container">

        <div class="job-header">
            <h1 class="job-title">@Model.sTieuDe</h1>
            <div class="job-actions">
                <form asp-action="Edit" asp-controller="baiDang" asp-route-id="@Model.PK_iMaBaiDang" method="get">
                    <button class="btn btn-edit">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z" />
                        </svg>
                        Sửa
                    </button>
                </form>
                <button class="btn btn-email">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z" />
                    </svg>
                    Email trả lời tự động
                </button>
                <button class="btn btn-view">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z" />
                        <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z" />
                    </svg>
                    Xem hồ sơ
                </button>
            </div>
        </div>

        <div class="info-grid">
            <div class="section">
                <h3 class="section-title">THÔNG TIN BÀI ĐĂNG</h3>
                <div class="info-item">
                    <div class="info-label">Thời gian</div>
                    <div class="info-value">30 ngày</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Ngày đăng</div>
                    <div class="info-value">@Model.dNgayTao</div>
                </div>
              
                <div class="info-item">
                    <div class="info-label">Lượt xem</div>
                    <div class="info-value">0</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Lượt nộp</div>
                    <div class="info-value">0</div>
                </div>
            </div>

            <div class="section">
                <h3 class="section-title">THÔNG TIN CHUNG</h3>
                <!-- Split into two columns -->
                <div class="split-info-container">
                    <!-- Left column -->
                    <div class="info-column">
                        <div class="info-item">
                            <div class="info-label">Tuổi</div>
                            <div class="info-value">@Model.sTuoi</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Giới tính</div>
                            <div class="info-value">@Model.sGioiTinh</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Địa điểm</div>
                            <div class="info-value">@Model.sDiaDiem</div>
                        </div>
                        

                    </div>
                    <!-- Right column -->
                    <div class="info-column">

                        <div class="info-item">
                            <div class="info-label">Môn dạy</div>
                            <div class="info-value">@Model.sMonday</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Mức lương</div>
                            <div class="info-value">@Model.fMucLuong</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Hình thức</div>
                            <div class="info-value">Offline</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h3 class="section-title">MÔ TẢ CÔNG VIỆC</h3>
            <div class="job-description">
                <p>@Model.sMoTa</p>
            </div>
        </div>

        <div class="section">
            <h3 class="section-title">YÊU CẦU CÔNG VIỆC</h3>
            <div class="job-description">
                <p>@Model.sYCau</p>
            </div>
        </div>
        <div class="section">
            <h3 class="section-title">KINH NGHIỆM</h3>
            <div class="job-description">
                <p>@Model.sKinhNghiem</p>
            </div>
        </div>
        <div class="section">
            <h3 class="section-title">BẰNG CẤP</h3>
            <div class="job-description">
                <p>@Model.sBangCap</p>
            </div>
        </div>
        <div class="section">
            <h3 class="section-title">CV</h3>
            <div class="job-description" style="width: 100%; height: 600px;">
                <iframe src="@Url.Content(Model.FileCVPath)" width="100%" height="100%" style="border: none;"></iframe>
            </div>
        </div>

        <div class="section">
            <h3 class="section-title">ĐÁNH GIÁ</h3>
            <div class="job-description">
                <div class="reviews-container">
                    <h2>Đánh Giá Từ Phụ Huynh</h2>

                    <div class="reviews-summary">
                        <div class="average-rating">
                            <div class="average-rating-value">@Model.DiemTrungBinh.ToString("0.0")</div>
                            <div class="review-stars">
                                @{
                                    int saoNguyen = (int)Math.Floor(Model.DiemTrungBinh);
                                    for (int i = 1; i <= 5; i++)
                                    {
                                        if (i <= saoNguyen)
                                        {
                                            @:<span style="color: gold;">★</span>
                                        }
                                        else
                                        {
                                            @:<span style="color: #ddd;">★</span>
                                        }
                                    }
                                }
                            </div>
                            <div>@Model.TongDanhGia đánh giá</div>
                        </div>

                        <div class="rating-bars">
                            @for (int i = 5; i >= 1; i--)
                            {
                                var count = Model.DanhGias.Count(d => d.SoSao == i);
                                var percent = Model.TongDanhGia == 0 ? 0 : (count * 100) / Model.TongDanhGia;
                                <div class="rating-bar-item">
                                    <div class="rating-bar-label">@i ★</div>
                                    <div class="rating-bar-container">
                                        <div class="rating-bar-fill" style="width: @percent%;"></div>
                                    </div>
                                    <div class="rating-bar-count">@count</div>
                                </div>
                            }
                        </div>
                    </div>

                    <div class="review-list">
                        @foreach (var dg in Model.DanhGias.OrderByDescending(d => d.NgayTao))
                        {
                            <div class="review-item">
                                <div class="review-header">
                                    <div class="review-author">@dg.NguoiDanhGia.UserName</div>
                                    <div class="review-date">@dg.NgayTao.ToString("dd/MM/yyyy")</div>
                                </div>
                                <div class="review-stars">
                                    @{
                                        for (int i = 1; i <= 5; i++)
                                        {
                                            if (i <= dg.SoSao)
                                            {
                                                @:<span style="color: gold;">★</span>
                                            }
                                            else
                                            {
                                                @:<span style="color: #ddd;">★</span>
                                            }
                                        }
                                    }
                                </div>
                                <div class="review-content">
                                    @dg.NoiDung
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</body>
</html>
